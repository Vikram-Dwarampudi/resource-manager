<!DOCTYPE html>
<html>
<head>
    <title>Resource Manager - System Diagram</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; background: #f5f5f5; }
        .container { max-width: 1300px; margin: 0 auto; background: white; padding: 20px; border-radius: 10px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); }
        h1 { color: #1976d2; text-align: center; }
        .info { background: #e8f4fd; padding: 15px; border-radius: 5px; margin: 20px 0; }
    </style>
</head>
<body>
    <div class="container">
        <h1>Resource Manager - System Architecture</h1>
        <div class="info">
            <h3>ðŸŽ¯ Purpose</h3>
            <p>This diagram provides a visual overview of the Resource Manager application architecture, showing how the Angular frontend communicates with the Flask backend to manage Kubernetes resources.</p>
        </div>
        <?xml version="1.0" encoding="UTF-8"?>
<svg width="1200" height="800" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <style>
      .box { fill: #e8f4fd; stroke: #1976d2; stroke-width: 2; }
      .api-box { fill: #fff3e0; stroke: #f57c00; stroke-width: 2; }
      .data-box { fill: #f3e5f5; stroke: #7b1fa2; stroke-width: 2; }
      .k8s-box { fill: #e8f5e8; stroke: #388e3c; stroke-width: 2; }
      .text { font-family: Arial, sans-serif; font-size: 12px; text-anchor: middle; }
      .title { font-family: Arial, sans-serif; font-size: 14px; font-weight: bold; text-anchor: middle; }
      .arrow { stroke: #333; stroke-width: 2; fill: none; marker-end: url(#arrowhead); }
      .workflow-text { font-family: Arial, sans-serif; font-size: 10px; fill: #666; }
    </style>
    <defs>
      <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
        <polygon points="0 0, 10 3.5, 0 7" fill="#333" />
      </marker>
    </defs>
  </defs>
  
  <!-- Title -->
  <text x="600" y="30" class="title" style="font-size: 18px; fill: #1976d2;">Resource Manager - System Architecture</text>
  
  <!-- User Interface Layer -->
  <rect x="50" y="60" width="1100" height="80" class="box" rx="10"/>
  <text x="600" y="85" class="title" fill="#1976d2">USER INTERFACE</text>
  <text x="600" y="105" class="text">Angular Frontend (Port 4200)</text>
  <text x="600" y="120" class="text">Material Design â€¢ Responsive UI â€¢ Real-time Updates</text>
  
  <!-- Arrow from UI to Backend -->
  <line x1="600" y1="140" x2="600" y2="170" class="arrow"/>
  <text x="650" y="155" class="workflow-text">HTTP/REST API</text>
  
  <!-- Backend API Layer -->
  <rect x="50" y="180" width="1100" height="120" class="api-box" rx="10"/>
  <text x="600" y="205" class="title" fill="#f57c00">BACKEND API</text>
  <text x="600" y="225" class="text">Flask Python Server (Port 5000)</text>
  
  <!-- API Endpoints -->
  <rect x="100" y="240" width="200" height="45" class="box" rx="5"/>
  <text x="200" y="255" class="text">GET /servers</text>
  <text x="200" y="270" class="workflow-text">List servers & pods</text>
  
  <rect x="320" y="240" width="200" height="45" class="box" rx="5"/>
  <text x="420" y="255" class="text">POST /create</text>
  <text x="420" y="270" class="workflow-text">Create new pod</text>
  
  <rect x="540" y="240" width="200" height="45" class="box" rx="5"/>
  <text x="640" y="255" class="text">POST /update</text>
  <text x="640" y="270" class="workflow-text">Update pod resources</text>
  
  <rect x="760" y="240" width="200" height="45" class="box" rx="5"/>
  <text x="860" y="255" class="text">POST /delete</text>
  <text x="860" y="270" class="workflow-text">Delete pod</text>
  
  <!-- Arrow from Backend to Data -->
  <line x1="600" y1="300" x2="600" y2="330" class="arrow"/>
  <text x="680" y="315" class="workflow-text">Read/Write Operations</text>
  
  <!-- Data Layer -->
  <rect x="50" y="340" width="1100" height="120" class="data-box" rx="10"/>
  <text x="600" y="365" class="title" fill="#7b1fa2">DATA LAYER</text>
  <text x="600" y="385" class="text">JSON File Storage (mock_db.json)</text>
  
  <!-- Data Components -->
  <rect x="150" y="400" width="200" height="45" class="box" rx="5"/>
  <text x="250" y="415" class="text">Servers</text>
  <text x="250" y="430" class="workflow-text">ID, Name, Status</text>
  
  <rect x="400" y="400" width="200" height="45" class="box" rx="5"/>
  <text x="500" y="415" class="text">Pods</text>
  <text x="500" y="430" class="workflow-text">Owner, Status, Images</text>
  
  <rect x="650" y="400" width="200" height="45" class="box" rx="5"/>
  <text x="750" y="415" class="text">Resources</text>
  <text x="750" y="430" class="workflow-text">GPU, RAM, Storage, CPU</text>
  
  <!-- Arrow from Data to Kubernetes -->
  <line x1="600" y1="460" x2="600" y2="490" class="arrow"/>
  <text x="720" y="475" class="workflow-text">Kubernetes API Integration</text>
  
  <!-- Kubernetes Layer -->
  <rect x="50" y="500" width="1100" height="120" class="k8s-box" rx="10"/>
  <text x="600" y="525" class="title" fill="#388e3c">KUBERNETES CLUSTER</text>
  <text x="600" y="545" class="text">Container Orchestration Platform</text>
  
  <!-- Kubernetes Components -->
  <rect x="150" y="560" width="200" height="45" class="box" rx="5"/>
  <text x="250" y="575" class="text">Namespaces</text>
  <text x="250" y="590" class="workflow-text">test-team, prod-team</text>
  
  <rect x="400" y="560" width="200" height="45" class="box" rx="5"/>
  <text x="500" y="575" class="text">Pods</text>
  <text x="500" y="590" class="workflow-text">Running, Pending, Failed</text>
  
  <rect x="650" y="560" width="200" height="45" class="box" rx="5"/>
  <text x="750" y="575" class="text">Services</text>
  <text x="750" y="590" class="workflow-text">Networking, Load Balancer</text>
  
  <!-- Workflow Examples -->
  <rect x="50" y="640" width="1100" height="140" style="fill: #fafafa; stroke: #ccc; stroke-width: 1;" rx="10"/>
  <text x="600" y="665" class="title" fill="#333">Key Workflows</text>
  
  <text x="100" y="690" class="text" style="text-anchor: start; font-weight: bold;">1. View Resources:</text>
  <text x="100" y="705" class="workflow-text" style="text-anchor: start;">User â†’ Frontend â†’ GET /servers â†’ Backend â†’ Read JSON â†’ Display</text>
  
  <text x="100" y="725" class="text" style="text-anchor: start; font-weight: bold;">2. Create Pod:</text>
  <text x="100" y="740" class="workflow-text" style="text-anchor: start;">User â†’ Form â†’ POST /create â†’ Validate â†’ Update JSON â†’ Deploy K8s</text>
  
  <text x="100" y="760" class="text" style="text-anchor: start; font-weight: bold;">3. Resource Management:</text>
  <text x="100" y="775" class="workflow-text" style="text-anchor: start;">Track GPU, RAM, Storage, CPU allocation across multiple servers</text>
  
</svg>
        <div class="info">
            <h3>ðŸ“‹ Key Components</h3>
            <ul>
                <li><strong>Frontend:</strong> Angular 20.1.0 with Material Design</li>
                <li><strong>Backend:</strong> Flask API with CORS and Swagger documentation</li>
                <li><strong>Data:</strong> JSON-based storage for servers, pods, and resources</li>
                <li><strong>Integration:</strong> Kubernetes API for container orchestration</li>
            </ul>
        </div>
    </div>
</body>
</html>